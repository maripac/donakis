<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>000 Introduction Dynamic SVG with D3</title>
    <meta name="description" content="Suppose someone to assert: The gostak distims the doshes. You do not know what this means; nor do I. But if we assume that it is English, we know that the doshes are distimmed by the gostak. We know too that one distimmer of doshes is a gostak. If, moreover, the doshes are galloons, we know that some galloons are distimmed by the gostak. And so we may go on, and so we often do go on.
">

    <link rel="shortcut icon" href="/donakis/favicon.ico"/>
    <link rel="stylesheet" href="/donakis/css/main.css">
    <link rel="canonical" href="http://yourdomain.com/donakis/svg/000-introduction-dynamic-svg-with-D3.html">


   <script src="/donakis/scripts/d3.v3.min.js"></script>
  <script src="/donakis/scripts/modernizr.js"></script>


<!--<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57069300-1', 'auto');
  ga('send', 'pageview');
</script>-->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57199073-1', 'auto');
  ga('send', 'pageview');

</script>


</head>


  <body>

    <div id="outer-wrap">
      <div id="inner-wrap">


      <header class="site-header" id="top" role="banner">


  <div class="block">

    <div class="inner-header">
      <a class="site-header-inner" href="/donakis/">
      <h1>gostak.io</h1>
      <h6>when gostaks dream of electric doshes...</h6>
      </a>
    </div>
    
    <a class="nav-btn" id="nav-open-btn" href="#nav">Book Navigation</a>
  </div>


</header>


<nav id="nav" role="navigation">
<div class="block">


      <div class="trigger">
        <a class="page-link" href="/donakis/">home</a>
        
          
          <a class="page-link" href="/donakis/about/">About</a>
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/donakis/series/">Series</a>
          
        
          
        
        
        
      </div>




<a class="close-btn" id="nav-close-btn" href="#top">Return to Content</a>
</div>
</nav>


        <div id="main" role="main">
          <article class="block prose">

            <div class="page-content">
              <div class="wrapper">
                <div class="post" itemscope itemtype="http://schema.org/Article">
    <h2 class="in_series" itemprop="name" >000 Introduction SVG and D3</h2>

<ul class="post-list_aside-svg">
 
    
        
        

        <li class="active" itemprop="articleSection">

            
              <a class="post-link-aside" itemprop="url" href="#"><span itemprop="id" class="numbered">0</span> &mdash; Introduction SVG with D3</a>

            
        </li>
        

        


    
</ul>

  <article itemprop="articleBody" class="post-content">
    <div class="inner2" style="width:100%; margin-top:1.125em; border:1px solid #ccc; overflow-x:scroll;">

<script>
var svg = d3.select(".inner2").append("svg").attr({
	width: 838,
	height:360

});


var dataset = [
					[
	                  [ 85,  50 ],
	                  [ 20,  165 ],
	                  [ -45,  50 ]
	                ],
	                [
	                  [ 100,  50 ],
	                  [ 165,  165 ],
	                  [ 35,  165 ]
	                ]

			];



var polygons = svg.selectAll("polygon")
			.data(d3.range(6)).enter()
			.append("polygon");

polygons.attr({
		points: function (d, i){
			return (dataset[0][0][0] + (i * 160)) + "," + (dataset[0][0][1]) + " " + (dataset[0][1][0] + (i * 160)) + "," + (dataset[0][1][1]) + " " + (dataset[0][2][0] + (i * 160)) + "," + (dataset[0][2][1]);
		},
		// fill: function (d){
		// 	return "rgb(50, 150, " + (d * 50) + ")";
		// }
		fill: "#2fcab2"
	})
	.style({
		display: function(d){
			if(d == 2 || d == 0 || d == 5){
				return "none";
			}
		}
	});

var moreData = d3.range(11);

var poly002 = svg.selectAll("polygon").data(moreData);

poly002.enter().append("polygon")
			.attr({
	points: function (d, i){
		return (dataset[1][0][0] + ((i - 6) * 160)) + "," + (dataset[1][0][1]) + " " + (dataset[1][1][0] + ((i - 6) * 160)) + "," + (dataset[1][1][1]) + " " + (dataset[1][2][0] + ((i - 6) * 160)) + "," + (dataset[1][2][1]);
	},
	fill: "#205098"
});



var moreData001 = d3.range(16);

var poly003 = svg.selectAll("polygon").data(moreData001);

poly003.enter().append("polygon")
			.attr({
	points: function (d, i){
		return (dataset[1][0][0] + ((i - 11) * 160)) + "," + (dataset[1][0][1] + 240) + " " + (dataset[1][1][0] + ((i - 11) * 160)) + "," + (dataset[1][1][1] + 10) + " " + (dataset[1][2][0] + ((i - 11) * 160)) + "," + (dataset[1][2][1] + 10);
	},
		// fill: function (d){
		// 	return "rgb(50, 150, " + (d * 50) + ")";
		// }
		fill: "#2fcab2"
});

var moreData002 = d3.range(22);

var poly004 = svg.selectAll("polygon").data(moreData002);

poly004.enter().append("polygon")
			.attr({
	points: function (d, i){
		return (dataset[0][0][0] + ((i - 16) * 160)) + "," + (dataset[0][0][1] + 240) + " " + (dataset[0][1][0] + ((i - 16) * 160)) + "," + (dataset[0][1][1] + 10) + " " + (dataset[0][2][0] + ((i - 16) * 160)) + "," + (dataset[0][2][1] + 240);
	},
	fill: "transparent",
	stroke: "#2fcab2",
	"stroke-width": "4px"
	
	})
	.style({
		display: function(d){
			if(d == 16 || d == 21){
				return "none";
			}
		}
	});





</script>


</div>

<p>A polygon is a svg element that defines a graphic shape delimited by at least three sides. In order to
generate a polygon we must provide an array containing the values needed to locate in an x and y coordinate system, each corner of the polygon. Each corner, therefore takes an array of two values, one for the x coordinate, and another for the y coordinate. These array of values must be provided inside the attribute “points” as in the following syntax:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;polygon</span> <span class="na">points=</span><span class="s">&quot;135,5 70,115 5,5&quot;</span> <span class="na">style=</span><span class="s">&quot;fill:#F95837;&quot;</span> <span class="nt">/&gt;</span></code></pre></div>

<p>The result of the previous example would look like the followin graphic:</p>

<svg height="140" width="500">
	<polygon points="135,5 70,115 5,5" style="fill:#F95837;" />
</svg>

<p>D3.js is a javascript library that allowes the generation of elements in the DOM, binded to data input values. These elements are generated dynamically in the client which means that any update of the DOM tree, will also be processed by the client, avoiding the need of submitting requests to the server, which adds considerable amounts of latency and increases the amount of data being transfered during the connection by forcing new page reloads.</p>

<p>In order, to generate the previous polygon dynamically with D3.js we must bind some data to the polygon element, that will be needed when defining the polygon’s attributes. Reviewing the previous: we have said that a polygon is a svg element that takes an atrribute “points” which must contain an array of at least three values separated from each other by a space, each of these three values takes an array of two values, both of them provide the position of a corner of the polygon in a x and y coordinate system. The first value provides the coordinate that sets the position of the corner in the x axis, and separated from the first by a comma, the second value provides the coordinate that sets the position of the corner in the y axis. </p>

<p>We could provide those coordinates using the following dataset: </p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">dataset</span> <span class="o">=</span> <span class="p">[</span>
	<span class="p">[</span>
		<span class="p">[</span> <span class="mi">135</span><span class="p">,</span>   <span class="mi">5</span> <span class="p">],</span>
		<span class="p">[</span> <span class="mi">70</span><span class="p">,</span>  <span class="mi">115</span> <span class="p">],</span>
		<span class="p">[</span> <span class="mi">5</span><span class="p">,</span>     <span class="mi">5</span> <span class="p">]</span>
	<span class="p">]</span>
<span class="p">];</span></code></pre></div>

<p>So the final D3.js script would look like this:</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-js" data-lang="js"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">svg</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;body&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">attr</span><span class="p">({</span>
	<span class="nx">width</span><span class="o">:</span> <span class="mi">838</span><span class="p">,</span>
	<span class="nx">height</span><span class="o">:</span><span class="mi">160</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">dataset</span> <span class="o">=</span> <span class="p">[</span>
	<span class="p">[</span>
		<span class="p">[</span> <span class="mi">135</span><span class="p">,</span>   <span class="mi">5</span> <span class="p">],</span>
		<span class="p">[</span> <span class="mi">70</span><span class="p">,</span>  <span class="mi">115</span> <span class="p">],</span>
		<span class="p">[</span> <span class="mi">5</span><span class="p">,</span>     <span class="mi">5</span> <span class="p">]</span>
	<span class="p">]</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">polygon</span> <span class="o">=</span> <span class="nx">svg</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;polygon&quot;</span><span class="p">)</span>
	<span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">dataset</span><span class="p">).</span><span class="nx">enter</span><span class="p">()</span>
	<span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;polygon&quot;</span><span class="p">);</span>

<span class="nx">polygon</span><span class="p">.</span><span class="nx">attr</span><span class="p">({</span>
	<span class="nx">points</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span> <span class="k">return</span> <span class="nx">d</span><span class="p">;</span> <span class="p">},</span>
	<span class="nx">fill</span><span class="o">:</span> <span class="s2">&quot;#F95837&quot;</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

<p>Checkout the code in line 19. </p>

<div class="inner3" style="width:100%; margin-top:1.125em; border:1px solid #ccc; overflow-x:scroll;">

<script>
var svg = d3.select(".inner3").append("svg").attr({
	width: 838,
	height:360

});


var dataset = [
	[
		[ 135,   5 ],
		[ 70,  115 ],
		[ 5,     5 ]
	]

];

var polygon = svg.selectAll("polygon")
			.data(dataset).enter()
			.append("polygon");

polygon.attr({
	//points: function(d){ return d[0] + " " + d[1] + " " + d[2]; },
	points: function(d){ return d; },
	fill: "#F95837"
});

var text = svg.selectAll("text")
			.data(dataset).enter()
			.append("text");

text.attr({
	//points: function(d){ return d[0] + " " + d[1] + " " + d[2]; },
	//text: function(d){ return d; },
	fill: "#333333",
	x: 10,
	y: 160,
	"font-size": "24px",
	"font-family": "sans-serif"
	})
	.text(function(d) { return "A/ points: function(d){ return d; }  =>   " + d ; });

var text2 = svg.selectAll("g").append("g")
			.data(dataset).enter()
			.append("text");

text2.attr({
	//points: function(d){ return d[0] + " " + d[1] + " " + d[2]; },
	//text: function(d){ return d; },
	fill: "#333333",
	x: 10,
	y: 210,
	"font-size": "24px",
	"font-family": "sans-serif"
	})
	.text(function(d) { return "B/ points: function(d){ return d[0] + ' ' + d[1] + ' ' + d[2]; }   =>  " + d[0] + " " + d[1] + " " + d[2]; });


</script>

</div>

<div class="inner" style="width:100%; margin-top:1.125em; border:1px solid #ccc; overflow-x:scroll;">

<script>
var svg = d3.select(".inner").append("svg").attr({
	width: 838,
	height:360

});


var dataset = [
					[
	                  [ 135,  5 ],
	                  [ 70,  115 ],
	                  [ 5,  5 ]
	                ],
	                [
	                  [ 150,  5 ],
	                  [ 205,  115 ],
	                  [ 85,  5 ]
	                ],
	                [
	                  [ 100,  50 ],
	                  [ 165,  165 ],
	                  [ 35,  165 ]
	                ]

			];



var polygons = svg.selectAll("polygon")
			.data(d3.range(6)).enter()
			.append("polygon");

polygons.attr({
		points: function (d, i){
			return (dataset[0][0][0] + (i * 160)) + "," + (dataset[0][0][1]) + " " + (dataset[0][1][0] + (i * 160)) + "," + (dataset[0][1][1]) + " " + (dataset[0][2][0] + (i * 160)) + "," + (dataset[0][2][1]);
		},
		// fill: function (d){
		// 	return "rgb(50, 150, " + (d * 50) + ")";
		// }
		fill: "#2fcab2"
	})
	.style({
		display: function(d){
			if(d == 2 || d == 0 || d == 5){
				return "none";
			}
		}
	});

var moreData = d3.range(11);

var poly002 = svg.selectAll("polygon").data(moreData);

poly002.enter().append("polygon")
			.attr({
	points: function (d, i){
		return (dataset[1][0][0] + ((i - 6) * 160)) + "," + (dataset[1][0][1]) + " " + (dataset[1][1][0] + ((i - 6) * 160)) + "," + (dataset[1][1][1]) + " " + (dataset[1][2][0] + ((i - 6) * 160)) + "," + (dataset[1][2][1]);
	},
	fill: "#205098"
});



var moreData001 = d3.range(16);

var poly003 = svg.selectAll("polygon").data(moreData001);

poly003.enter().append("polygon")
			.attr({
	points: function (d, i){
		return (dataset[1][0][0] + ((i - 11) * 160)) + "," + (dataset[1][0][1] + 240) + " " + (dataset[1][1][0] + ((i - 11) * 160)) + "," + (dataset[1][1][1] + 10) + " " + (dataset[1][2][0] + ((i - 11) * 160)) + "," + (dataset[1][2][1] + 10);
	},
		// fill: function (d){
		// 	return "rgb(50, 150, " + (d * 50) + ")";
		// }
		fill: "#2fcab2"
});

var moreData002 = d3.range(22);

var poly004 = svg.selectAll("polygon").data(moreData002);

poly004.enter().append("polygon")
			.attr({
	points: function (d, i){
		return (dataset[0][0][0] + ((i - 16) * 160)) + "," + (dataset[0][0][1] + 240) + " " + (dataset[0][1][0] + ((i - 16) * 160)) + "," + (dataset[0][1][1] + 10) + " " + (dataset[0][2][0] + ((i - 16) * 160)) + "," + (dataset[0][2][1] + 240);
	},
	fill: "#eaedf7",
	stroke: "#2fcab2",
	"stroke-width": "0px"
	
	})
	.style({
		display: function(d){
			if(d == 16 || d == 21){
				return "none";
			}
		}
	});


</script>
</div>


  </article>



  
</div>


  <div id="disqus_thread"></div>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: THIS CODE IS ONLY AN EXAMPLE * * */
    var disqus_shortname = 'gostak'; // Required - Replace example with your forum shortname
    //var disqus_identifier = 'a unique identifier for each page where Disqus is present';
    //var disqus_title = 'a unique title for each page where Disqus is present';
    //var disqus_url = 'a unique URL for each page where Disqus is present';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>



              </div><!--//.wrapper-->
            </div><!--//.page-content-->

          </article><!--//.article-->
        </div> <!--//#main-->

      <footer class="site-footer">
    <div class="block">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li><a class="site-footer-inner" href="/donakis/">gostak.io</a></li>
          <li><a href="mailto:"></a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/maripac">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">maripac</span>
            </a>
          </li>
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Suppose someone to assert: The gostak distims the doshes. You do not know what this means; nor do I. But if we assume that it is English, we know that the doshes are distimmed by the gostak. We know too that one distimmer of doshes is a gostak. If, moreover, the doshes are galloons, we know that some galloons are distimmed by the gostak. And so we may go on, and so we often do go on.
</p>
      </div>
    </div>

  </div>
  

</footer>


      </div><!--//#inner-->
    </div><!--//#outer-->

    <script src="/donakis/scripts/jquery.min.js"></script>
    <script src="/donakis/scripts/main.js"></script>
    



  </body>
</html>
