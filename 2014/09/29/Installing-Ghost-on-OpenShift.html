<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Installing Ghost on OpenShift</title>
    <meta name="description" content="Suppose someone to assert: The gostak distims the doshes. You do not know what this means; nor do I. But if we assume that it is English, we know that the doshes are distimmed by the gostak. We know too that one distimmer of doshes is a gostak. If, moreover, the doshes are galloons, we know that some galloons are distimmed by the gostak. And so we may go on, and so we often do go on.
">

    <link rel="shortcut icon" href="/donakis/favicon.ico"/>
    <!--<link rel="stylesheet" href="/donakis/css/style.css">-->
    <!--<link rel="stylesheet" href="/donakis/css/collapse.css">-->
    <link rel="stylesheet" href="/donakis/css/main.css">
    <link rel="canonical" href="http://yourdomain.com/donakis/2014/09/29/Installing-Ghost-on-OpenShift.html">

    <!--<script src="/donakis/scripts/highlight.pack.js"></script>-->
    <script src="/donakis/scripts/modernizr.js"></script>



    <script>   
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        // My customisation
        if( location.hostname.match( 'maripac.github.io/donakis/' ) ) {
          ga('create', 'UA-57199073-1', 'maripac.github.io/donakis/');
        }
        else {
          ga('create', 'UA-57069300-1', 'gostak.io/');
        }
        // My customisation END

        ga('send', 'pageview');
    </script>
<!--<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57069300-1', 'auto');
  ga('send', 'pageview');

</script>-->
<!--<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57199073-1', 'auto');
  ga('send', 'pageview');

</script>-->

</head>


  <body>

    <div id="outer-wrap">
      <div id="inner-wrap">


      <header class="site-header" id="top" role="banner">


  <div class="block">

    <div class="inner-header">
      <a class="site-header-inner" href="/donakis/">
      <h1>gostak.io</h1>
      <h6>when gostaks dream of electric doshes...</h6>
      </a>
    </div>
    
    <a class="nav-btn" id="nav-open-btn" href="#nav">Book Navigation</a>
  </div>


<!--<header class="site-header"> A-->

  

  <!--<div class="wrapper">

    <a class="site-title" href="/donakis/">gostak.io</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>


      <div class="trigger">
        
          
          <a class="page-link" href="/donakis/about/">About</a>
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/donakis/series/">Series</a>
          
        
          
        
      </div>

    </nav>

  </div>-->

<!--</header> A-->


</header>


<nav id="nav" role="navigation">
<div class="block">



<!--<div class="wrapper">-->

    

    <!--<nav class="site-nav">-->
      <!--<a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>-->


      <div class="trigger">
        <a class="page-link" href="/donakis/">home</a>
        
          
          <a class="page-link" href="/donakis/about/">About</a>
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/donakis/series/">Series</a>
          
        
          
        
        <!--<a class="site-title page-link" href="/donakis/">gostak.io</a>-->
        
      </div>

    <!--</nav>-->

<!--</div>-->



<a class="close-btn" id="nav-close-btn" href="#top">Return to Content</a>
</div>
</nav>


        <div id="main" role="main">
          <article class="block prose">

            <div class="page-content">
              <div class="wrapper">
                <div class="post">

  <header class="post-header">
    <h1 class="post-title">Installing Ghost on OpenShift</h1>
    <p class="post-meta">Sep 29, 2014</p>
  </header>




  <article class="post-content">
    <p><strong>Note</strong> <em>This post is being written with the intention of keeping a personal record of the actions performed in my particular environment, meeting a set of conditions which I’m not sure I’ll be able to point out in every case. Including ruby, git and node.js version; operating system and so on. OpenShift provides plenty of documentation regarding these options which I will try to refer, and which I strongly recommend to consult before trying to perform any modification in any other particular environment.</em> </p>

<h2 id="installation-and-configuration-of-the-client-tools">Installation and configuration of the Client Tools</h2>

<p><a href="https://developers.openshift.com/en/getting-started-client-tools.html">Installing the Client Tools</a></p>

<p><a href="https://access.redhat.com/documentation/en-US/OpenShift_Online/2.0/html/Client_Tools_Installation_Guide/index.html">Extended documentation</a></p>

<p>Once we have verified that Ruby and Git are available in our system we can install the OpenShift gem.</p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">$</span> <span class="nx">sudo</span> <span class="nx">gem</span> <span class="nx">install</span> <span class="nx">rhc</span></code></pre></div>

<p>Once the installation has completed, run:</p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">$</span> <span class="nx">rhc</span> <span class="nx">setup</span></code></pre></div>

<p><a href="https://access.redhat.com/documentation/en-US/OpenShift_Online/2.0/html/Client_Tools_Installation_Guide/Configuring_Client_Tools.html">Configuration of the Client Tools</a></p>

<p>We’ll be prompted to enter our login information. First we have to enter the email account that we have previously used to sign in to the OpenShift platform.</p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">Login</span> <span class="k">to</span> <span class="nv">openshift.redhat.com:</span></code></pre></div>

<p>And next our password:</p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">Login</span> <span class="k">to</span> <span class="nv">openshift.redhat.com: </span><span class="nx">email@account</span><span class="p">.</span><span class="nx">com</span>
<span class="nx">Password</span><span class="o">:******</span></code></pre></div>

<p>For details on this process please refer to the link above. In a summarized way I think I was asked if I wanted to generate a token, which I accepted by typing yes and pressing enter. Then the wizard outputs the path in you local system where the configuration file that contains your credentials, has been created. Then when your SSH keys have been created, you are prompted with this question which I accepted.</p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">Your</span> <span class="nx">public</span> <span class="nx">ssh</span> <span class="nx">key</span> <span class="nx">must</span> <span class="nx">be</span> <span class="nx">uploaded</span> <span class="k">to</span> <span class="nx">the</span> <span class="nx">OpenShift</span> <span class="nx">server</span> <span class="k">to</span> <span class="nx">access</span> <span class="nx">code</span><span class="p">.</span>
<span class="nx">Upload</span> <span class="nx">now</span><span class="o">?</span> <span class="p">(</span><span class="kc">yes</span><span class="o">|</span><span class="kc">no</span><span class="p">)</span> <span class="kc">yes</span></code></pre></div>

<p>And by the end of this process you are able to choose a domain.</p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">Please</span> <span class="nx">enter</span> <span class="nx">a</span> <span class="nx">domain</span> <span class="p">(</span><span class="nx">letters</span> <span class="o">and</span> <span class="nx">numbers</span> <span class="nx">only</span><span class="p">)</span> <span class="o">|&lt;</span><span class="nx">none</span><span class="o">&gt;|:</span> <span class="nx">MyDomain</span>
<span class="nx">Your</span> <span class="nx">domain</span> <span class="nx">name</span> <span class="s">&#39;MyDomain&#39;</span> <span class="nx">has</span> <span class="nx">been</span> <span class="nx">successfully</span> <span class="nx">created</span></code></pre></div>

<h2 id="creating-the-ghost-application">Creating the Ghost application</h2>

<ul>
  <li>
    <p><a href="http://howtoinstallghost.com/how-to-install-ghost-on-openshift/">How to install Ghost on OpenShift</a></p>
  </li>
  <li>
    <p><a href="https://www.openshift.com/quickstarts/ghost">Quickstart reference</a></p>
  </li>
  <li>
    <p><a href="https://github.com/openshift-quickstart/openshift-ghost-quickstart">Github repository of OpenShift’s Ghost code</a></p>
  </li>
</ul>

<p>To setup Ghost as an application on your OpenShift’s account cd to the folder holding your other local projects. In my case <code>$ cd ~/Sites</code> and type:</p>

<p><strong>Note</strong> <em>Where ghost will be the domain that will be followed by the domain chosen when configuring the client tools, both adding to something like ghost-mydomain.rhcloud.com which is the url where you will be able to access your Ghost application. As well as the name of the folder that will be created in your local system holding a cloned repository of the public site. You can change it to anything you prefer.</em></p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">$</span> <span class="nx">rhc</span> <span class="nx">app</span> <span class="nx">create</span> <span class="nx">ghost</span> <span class="nx">nodejs-0</span><span class="p">.</span><span class="mi">10</span> <span class="o">--</span><span class="nx">env</span> <span class="nx">NODE_ENV</span><span class="o">=</span><span class="nx">production</span> <span class="o">--</span><span class="nx">from-code</span> <span class="nx">https</span><span class="o">:</span><span class="sr">//github.com/openshift-quickstart/openshift-ghost-quickstart.git</span></code></pre></div>

<h3 id="running-the-application-locally">Running the Application Locally</h3>

<p>As explained in the README.md file of the Github repository linked above. The Ghost repository cloned to <code>~/Sites/ghost</code> is missing two folders. If we open the .gitignore file from the root folder, we see they should be inside the content folder, so we can add them to our local installation since we aren’t facing the risk of overwritting any of them when pushing changes from local to the live site. So inside the content folder I added an images folder and a data folder. Then I removed the node_modules folder and added it to the beginning of the .gitignore file.</p>

<p>If you log in to your OpenShift account and go to applications. You must see that you have one application called ghost. If you click on the name ghost. You enter to another very similar screen. In the right sidebar highlighted with red in the image next. If we click the link “Want to log in to your application?”</p>

<p><img src="/donakis/images/ssh-1.png" alt="Screen Capture" title="Screen Capture" /></p>

<p>Then we can select and paste the credentials we need to connect to our hosting with ssh they should be something like </p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">$</span> <span class="nx">ssh</span> <span class="mi">666ddddsgytsyvus</span><span class="nx">@ghost-mydomain</span><span class="p">.</span><span class="nx">rhcloud</span><span class="p">.</span><span class="nx">com</span></code></pre></div>

<p>In order to check the version of Node.js that our server is running we can enter</p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">$</span> <span class="nx">ssh</span> <span class="mi">666ddddsgytsyvus</span><span class="nx">@ghost-mydomain</span><span class="p">.</span><span class="nx">rhcloud</span><span class="p">.</span><span class="nx">com</span> <span class="nx">node</span> <span class="o">-</span><span class="nx">v</span></code></pre></div>

<p>That should output the node.js version. In my case the node.js version was 0.10.25. My local environment node.js version was verified by typing:</p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">$</span> <span class="nx">npm</span> <span class="o">-</span><span class="nx">v</span></code></pre></div>

<p>Since I had to downgrade a version because I was running locally node v0.10.26 .I followed the next tutorial on how to install n which is an npm module for managing node.js versions. </p>

<p><strong>Note</strong> <em>I do not fancy much this step. I can’t say yet if this can get me into further problems regarding my other local projects</em></p>

<p><a href="http://theholmesoffice.com/node-js-fundamentals-how-to-upgrade-the-node-js-version/">Node Version Management</a></p>

<p>Once I verified that my local node.js version was as well 0.10.25. I deleted my node_modules folder and typed:</p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">$</span> <span class="nx">npm</span> <span class="nx">install</span> <span class="o">--</span><span class="nx">production</span></code></pre></div>

<p>At this point I could at last run the Ghost app locally without any errors showing up:</p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">$</span> <span class="nx">npm</span> <span class="nx">start</span></code></pre></div>

<p>Then I runned:</p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">$</span> <span class="nx">git</span> <span class="nx">rm</span> <span class="o">-</span><span class="nx">r</span> <span class="o">--</span><span class="nx">cached</span> <span class="p">.</span></code></pre></div>

<p>Then:</p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">$</span> <span class="nx">git</span> <span class="nx">add</span> <span class="p">.</span></code></pre></div>

<p>Next</p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">$</span> <span class="nx">git</span> <span class="nx">status</span></code></pre></div>

<p>And the node_modules folder displayed as deleted from the git directory tree.</p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">$</span> <span class="nx">git</span> <span class="nx">commit</span> <span class="o">-</span><span class="nx">m</span> <span class="s">&#39;added my custom theme&#39;</span></code></pre></div>

<p><strong>Note</strong> <em>To make sure that pushing the local repository to the public site didn’t break any of the installations I pushed a folder containing a custom theme.</em></p>

<div class="highlight"><pre><code class="language-livescript" data-lang="livescript"><span class="nx">$</span> <span class="nx">git</span> <span class="nx">push</span></code></pre></div>

<p>Then I logged into my live site and was able to select the custom theme from the settings pannel without breaking anything. So the code was uploaded correctly.</p>

  </article>


  
</div>

	<div id="disqus_thread"></div>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: THIS CODE IS ONLY AN EXAMPLE * * */
    var disqus_shortname = 'gostak'; // Required - Replace example with your forum shortname
    //var disqus_identifier = 'a unique identifier for each page where Disqus is present';
    //var disqus_title = 'a unique title for each page where Disqus is present';
    //var disqus_url = 'a unique URL for each page where Disqus is present';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>


              </div><!--//.wrapper-->
            </div><!--//.page-content-->

          </article><!--//.article-->
        </div> <!--//#main-->

      <footer class="site-footer">
    <div class="block">

  <div class="wrapper">

    <!--<h2 class="footer-heading">gostak.io</h2>-->

    <div class="footer-col-wrapper">
      
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li><a class="site-footer-inner" href="/donakis/">gostak.io</a></li>
          <li><a href="mailto:"></a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/maripac">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">maripac</span>
            </a>
          </li>
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Suppose someone to assert: The gostak distims the doshes. You do not know what this means; nor do I. But if we assume that it is English, we know that the doshes are distimmed by the gostak. We know too that one distimmer of doshes is a gostak. If, moreover, the doshes are galloons, we know that some galloons are distimmed by the gostak. And so we may go on, and so we often do go on.
</p>
      </div>
    </div>

  </div>
  

</footer>


      </div><!--//#inner-->
    </div><!--//#outer-->

    <script src="/donakis/scripts/jquery.min.js"></script>
    <!--// <script language="javascript" type="text/javascript">
    //   $(function() {
    //     if($('pre').length >0 ){
    //       hljs.initHighlightingOnLoad();
    //     }
    //   });
    // </script>-->
    <script src="/donakis/scripts/main.js"></script>
    



  </body>
</html>
