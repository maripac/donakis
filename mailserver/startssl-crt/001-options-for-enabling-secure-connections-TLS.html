<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>001 Options for enabling secure connections: The TLS protocol</title>
    <meta name="description" content="Suppose someone to assert: The gostak distims the doshes. You do not know what this means; nor do I. But if we assume that it is English, we know that the doshes are distimmed by the gostak. We know too that one distimmer of doshes is a gostak. If, moreover, the doshes are galloons, we know that some galloons are distimmed by the gostak. And so we may go on, and so we often do go on.
">

    <link rel="shortcut icon" href="/donakis/favicon.ico"/>
    <link rel="stylesheet" href="/donakis/css/main.css">
    <link rel="canonical" href="http://yourdomain.com/donakis/mailserver/startssl-crt/001-options-for-enabling-secure-connections-TLS.html">

    <script src="/donakis/scripts/modernizr.js"></script>


<!--<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57069300-1', 'gostak.io/');
  ga('send', 'pageview');

</script>-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57199073-1', 'auto');
  ga('send', 'pageview');

</script>
</head>


  <body>

    <div id="outer-wrap">
      <div id="inner-wrap">


      <header class="site-header" id="top" role="banner">


  <div class="block">

    <div class="inner-header">
      <a class="site-header-inner" href="/donakis/">
      <h1>gostak.io</h1>
      <h6>when gostaks dream of electric doshes...</h6>
      </a>
    </div>
    
    <a class="nav-btn" id="nav-open-btn" href="#nav">Book Navigation</a>
  </div>


</header>


<nav id="nav" role="navigation">
<div class="block">


      <div class="trigger">
        <a class="page-link" href="/donakis/">home</a>
        
          
          <a class="page-link" href="/donakis/about/">About</a>
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/donakis/series/">Series</a>
          
        
          
        
        
        
      </div>




<a class="close-btn" id="nav-close-btn" href="#top">Return to Content</a>
</div>
</nav>


        <div id="main" role="main">
          <article class="block prose">

            <div class="page-content">
              <div class="wrapper">
                <div class="post" itemscope itemtype="http://schema.org/Article">
    <h2 class="in_series" itemprop="name" >001 Options for enabling secure connections: The TLS protocol</h2>

<ul class="post-list_aside">
 
    
        
        
        <li itemprop="articleSection">
            

            
              <a class="post-link-aside" itemprop="url" href="/donakis/mailserver/startssl-crt/000-intro-and-resources.html"><span itemprop="id" class="numbered">0</span> &mdash; Intro and resources</a>
              

            
        </li>
        

        


    
        
        

        <li class="active" itemprop="articleSection">
            

            
              <a class="post-link-aside" itemprop="url" href="#"><span itemprop="id" class="numbered">1</span> &mdash; Options for enabling TLS</a>
              

            
        </li>
        

        


    
        
        
        <li itemprop="articleSection">
            

            
              <a class="post-link-aside" itemprop="url" href="/donakis/mailserver/startssl-crt/002-creating-the-private-key-and-request-crs-locally.html"><span itemprop="id" class="numbered">2</span> &mdash; Private key and certificate request</a>
              

            
        </li>
        

        


    
        
        
        <li itemprop="articleSection">
            

            
              <a class="post-link-aside" itemprop="url" href="/donakis/mailserver/startssl-crt/003-startssl-authentication-and-validation.html"><span itemprop="id" class="numbered">3</span> &mdash; Authentication and Validation</a>
              

            
        </li>
        

        


    
        
        
        <li itemprop="articleSection">
            

            
              <a class="post-link-aside" itemprop="url" href="/donakis/mailserver/startssl-crt/004-obtaining-the-certificate-signed-by-startssl.html"><span itemprop="id" class="numbered">4</span> &mdash; Processing the Certificate Request</a>
              

            
        </li>
        

        


    
        
        
        <li itemprop="articleSection">
            

            
              <a class="post-link-aside" itemprop="url" href="/donakis/mailserver/startssl-crt/005-apache-virtual-host-on-secured-port.html"><span itemprop="id" class="numbered">5</span> &mdash; Apache configuration</a>
              

            
        </li>
        

        


    
        
        
        <li itemprop="articleSection">
            

            
              <a class="post-link-aside" itemprop="url" href="/donakis/mailserver/startssl-crt/006-on-trusted-authorities-and-the-chain-of-trust.html"><span itemprop="id" class="numbered">6</span> &mdash; On trusted Authorities</a>
              

            
        </li>
        

        


    
</ul>

  <article itemprop="articleBody" class="post-content">
    <p>As explained in the ISPmail guide, the first steps to be taken involve <a href="https://workaround.org/ispmail/wheezy/tlsifying-your-server">making your mailserver capable of establishing TLS connections</a>. There are four different ways in which you can approach this requirement.</p>

<ol>
  <li>
    <dl>
      <dt>Without any type of certificate. </dt>
      <dd>In which case every time you establish a connection to the mailserver you’ll have to tell the client that you trust the server.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt>By creating your own certificate. </dt>
      <dd>In which case you’ll have to configure a security exception once for every client you use to connect to your mailserver, so that the client knows that you trust the server.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt>By requesting a free certificate.</dt>
      <dd>From the <a href="https://www.startssl.com/">StartCom Certification Authority</a>.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt>By paying for a certificate.</dt>
      <dd>From any other Certification Authority.</dd>
    </dl>
  </li>
</ol>

<p>I chose to take the third option and proceeded with the request of a free cretificate. There are a couple of things to take into account surrounding the <a href="http://en.wikipedia.org/wiki/StartCom#Limitations_of_StartSSL_Free">StartCom policy</a>, the one that has caused a lot of debate regards their <a href="http://en.wikipedia.org/wiki/StartCom#Response_to_heartbleed">response to the heartbleed vulnerability</a>. You can read more on this debate <a href="https://news.ycombinator.com/item?id=7557764">here</a>, and <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=744027">here</a>.</p>

<p>It is true that I did not have the information provided above when I made my decision, but I must say I did not either take the time to search around, so my fault, obviously. Anyway, as it is stated in some of the links above there are two things to be precautious about surrounding the StartCom Authority:</p>

<ul>
  <li>Revocation has a fee of 24.90$.</li>
  <li>The validation requires a working mail account associated to the domain.</li>
</ul>

<p>The first point, means that to avoid paying a fee of 24.90$, the FQDN, Fully Qualified Domain Name, that you want the certificate to be extended for, must match:</p>

<ul>
  <li>The FQDN that you enter when you create the requesting document in your local system.</li>
  <li>The FQDN that you enter in the StartSSL website when requesting the certificate.</li>
  <li>The FQDN that you assign to your mailserver whith your DNS manager.</li>
</ul>

<p>The second point, means that, before you can request a certificate for a domain at StartCom, first you will have to prove yourself as the owner of the domain in question. The way in which StartCom proceeds with this validation is by sending a mail containing a password to a mail account such as webmaster@yourdomain.com, info@yourdomain.com, hostmaster@yourdomain.com and such. Since you are setting up a mail server, chances are that you will not have access to those email accounts. In that case you have to make sure that you own the domain, and that it is registered in the way that I will explain.</p>

<p>When you register a domain with a DNS provider, you normaly create a user account that is associated with your current mail account. In normal circumstances, after you have purchased a domain your DNS provider creates a <code>whois</code> record and publishes it on the internet. Obviously if you have purchased your domain and enabled some kind of privacy protection feature, your whois information will not be publicly available. In addition, there are some DNS providers that do not include your email account within the whois record. That was the case with <a href="https://iwantmyname.com/">iwantmyname.com</a>, and I solved it in a way that does not apply here. So what I would recommend is first of all, that you clear out any doubts by running <code>whois yourdomain.com</code> from the terminal, additionally this <a href="http://whois.domaintools.com/">website</a> might provide a more complete report. And secondly, if the previous command did not output your working email account, try to contact directly your DNS provider to explain the situation. Also note that any update performed on the information associated to your domain will need at least 24 hours to propagate accross the internet.</p>


  </article>


  
</div>

	<div id="disqus_thread"></div>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: THIS CODE IS ONLY AN EXAMPLE * * */
    var disqus_shortname = 'gostak'; // Required - Replace example with your forum shortname
    //var disqus_identifier = 'a unique identifier for each page where Disqus is present';
    //var disqus_title = 'a unique title for each page where Disqus is present';
    //var disqus_url = 'a unique URL for each page where Disqus is present';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>


              </div><!--//.wrapper-->
            </div><!--//.page-content-->

          </article><!--//.article-->
        </div> <!--//#main-->

      <footer class="site-footer">
    <div class="block">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li><a class="site-footer-inner" href="/donakis/">gostak.io</a></li>
          <li><a href="mailto:"></a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/maripac">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">maripac</span>
            </a>
          </li>
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Suppose someone to assert: The gostak distims the doshes. You do not know what this means; nor do I. But if we assume that it is English, we know that the doshes are distimmed by the gostak. We know too that one distimmer of doshes is a gostak. If, moreover, the doshes are galloons, we know that some galloons are distimmed by the gostak. And so we may go on, and so we often do go on.
</p>
      </div>
    </div>

  </div>
  

</footer>


      </div><!--//#inner-->
    </div><!--//#outer-->

    <script src="/donakis/scripts/jquery.min.js"></script>
    <!--// <script language="javascript" type="text/javascript">
    //   $(function() {
    //     if($('pre').length >0 ){
    //       hljs.initHighlightingOnLoad();
    //     }
    //   });
    // </script>-->
    <script src="/donakis/scripts/main.js"></script>
    



  </body>
</html>
